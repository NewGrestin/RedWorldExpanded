add_namespace = rw_waf

#May Day Coup attempt
country_event = {
	id = rw_waf.1
	title = rw_waf.1.t
	desc = rw_waf.1.d
	picture = gaddafi_speech
	
	fire_only_once = yes
	
	trigger = {
		tag = WAF
		date > 2010.2.25
		date < 2010.3.1
	}
	
	option = {
		name = rw_waf.1.a
		hidden_effect = { country_event = { id = rw_waf.2 days = 10 } }
	}

	option = {
		name = rw_waf.1.b
		hidden_effect = { country_event = { id = rw_waf.2 days = 10 } }
		set_country_flag = WAF_COUP_KNOWN
	}
}

#The May Day Coup happens
country_event = {
	id = rw_waf.2
	title = rw_waf.2.t
	desc = rw_waf.2.d
	picture = gaddafi_speech
	
	is_triggered_only = yes
	
	option = { #Coup happens
		name = rw_waf.2.a
		custom_effect_tooltip = RW_WAF_2_A
		add_stability = -0.1
		add_manpower = -156
		add_popularity = { ideology = nationalist popularity = -0.3 }
		set_politics = { ruling_party = fascist }
		news_event = { id = newsrw.13 days = 0 }
	}

	option = { #Coup repelled, despite not knowing
		name = rw_waf.2.b
		trigger = { 
		NOT = { has_country_flag = WAF_COUP_KNOWN }
		}
		custom_effect_tooltip = RW_WAF_2_B
		add_stability = -0.2
		add_manpower = -1061
		add_popularity = { ideology = fascist popularity = -0.05 }
		news_event = { id = newsrw.14 days = 0 }
		hidden_effect = { country_event = { id = rw_waf.3 days = 5 } }
	}

	option = { #Coup reppeled with knowledge
		name = rw_waf.2.c
		trigger = { 
		has_country_flag = WAF_COUP_KNOWN
		}
		custom_effect_tooltip = RW_WAF_2_C
		add_stability = -0.05
		add_manpower = -350
		add_popularity = { ideology = fascist popularity = -0.2 }
		news_event = { id = newsrw.14 days = 0 }
	}
}

#Arab Coup loyalists move to Mauritania
country_event = {
	id = rw_waf.3
	title = rw_waf.3.t
	desc = rw_waf.3.d
	picture = gaddafi_speech
	
	is_triggered_only = yes
	
	option = { #Coup happens
		name = rw_waf.3.a
		add_stability = -0.05
		custom_effect_tooltip = WAF_START_MRT_EMERGENCY
		set_country_flag = RW_WAF_MRT_EMERGENCY
	}

}

#Collapse of the Old Union
country_event = {
	id = rw_waf.4
	title = rw_waf.4.t
	desc = rw_waf.4.d
	picture = gaddafi_speech
	
	is_triggered_only = yes
	
	option = { #Coup happens
		name = rw_waf.4.a
		release = BRK 
		release = AZA
		declare_war_on = {
    		target = AZA
   		type = annex_everything
		}		
		white_peace = MRT
		set_cosmetic_tag = WAF_UNION	
		set_politics = { ruling_party = fascist }
		add_popularity = { ideology = fascist popularity = 0.4 }
		create_country_leader = {
		name = "Ibrahim Baré Maïnassara"
		picture = "Portrait_WAF_Ibrahim_Bare_Maïnassara.dds"
		ideology = fascist_ideology 
		}
		news_event = { id = newsrw.18 days = 0 } 
	}

}

#BRK - Communists seize election 
country_event = {
	id = rw_waf.5
	title = rw_waf.5.t
	desc = rw_waf.5.d
	picture = gaddafi_speech
	
	fire_only_once = yes

	trigger = { 
	tag = BRK
	BRK = { exists = yes } 
	BRK = { is_subject = no }
	}
	
	option = { #Communists 
		name = rw_waf.5.a
		add_popularity = { ideology = communist popularity = 0.15 }
		add_popularity = { ideology = revolutionary_socialist popularity = 0.1 }
		set_politics = { ruling_party = communist }
	}

	option = { #Military intervenes
		name = rw_waf.5.b
		add_popularity = { ideology = nationalists popularity = 0.1 }
		set_politics = { ruling_party = nationalists }
	}
}

#Tuaregs achieve victory
country_event = {
	id = rw_waf.6
	title = rw_waf.6.t
	desc = rw_waf.6.d
	picture = gaddafi_speech
	
	fire_only_once = yes

	trigger = { 
	tag = WAF
	AZA = { has_war_with = WAF }
	AZA = { surrender_progress < 0.4 }
	OR = { 
	AZA = { controls_state = 746 }
	AZA = { controls_state = 749 }
	}
	}
	
	option = { #An end to the conflict
		name = rw_waf.6.a
		white_peace = AZA
		set_cosmetic_tag = WAF_COLLAPSE
		746 = { add_core_of = MLI }
		release = MLI
	}

}

#WAU seeks us to join
country_event = {
	id = rw_waf.100
	title = rw_waf.100.t
	desc = rw_waf.100.d
	picture = gaddafi_speech
	
	is_triggered_only = yes
	
	option = { #join
		name = rw_waf.100.a
		FROM = { 
		annex_country = {
   		 target = ROOT
   		 transfer_troops = yes
		}	
		}	
	}

	option = { #reject
		name = rw_waf.100.b
		WAF = { country_event = { id = rw_waf.101 days = 1 } }	
	}
}

#WAU - join got rejected
country_event = {
	id = rw_waf.101
	title = rw_waf.101.t
	desc = rw_waf.101.d
	picture = gaddafi_speech
	
	is_triggered_only = yes
	
	option = { #bummer
		name = rw_waf.101.a
			
	}

	option = { #war sounds dope
		name = rw_waf.101.b
		add_political_power = -50
		declare_war_on = {
  		  target = FROM
  		  type = annex_everything
		}
	}
}